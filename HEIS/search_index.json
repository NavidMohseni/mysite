[
["overall-trends.html", "6 Overall trends 6.1 Gas price reform in November 2019 in Iran and poverty 6.2 Car ownership across provinces 6.3 Trends in expenditure items 6.4 Trends of individual level data 6.5 Trends of household-level data over time", " 6 Overall trends pre { max-height: 500px; overflow-y: auto; } pre[class] { max-height: 500px; } In this section we present some interesting trends that we observe from this data. 6.1 Gas price reform in November 2019 in Iran and poverty The Iranian government announced an increase in gas price from 1000T to 3000T per liter in November 2019 (Aban 1398) and paid the revenue from this reform to the bottom 60% of household in the income disribution. To see whether this policy help improving the living condition of lower income households or not we compare the monthly trend of share of food expenditure in 1397 and 1398. As food is neccesary for housholds its share in total expenditure is a simple measure of poverty. The below code and its output shows that prior to Aban the food share in 1398 was higher than 1397, suggesting worse living condition in 1398. But after Aban the share declined and in 1398 were lower than 1397, which is most probably due to the gas price reform and its subsequent subsidies. library(tidyverse) monthly &lt;- readRDS(&quot;./exported/HH97.Rds&quot;) %&gt;% mutate(year=&quot;97&quot;) %&gt;% bind_rows(readRDS(&quot;./exported/HH98.Rds&quot;)) %&gt;% mutate(year=replace_na(year,&quot;98&quot;)) %&gt;% group_by(month,year) %&gt;% summarise(across(c(cost_food,expenditure),~sum(.x*weight,na.rm=T))) %&gt;% mutate(foodshare=cost_food/expenditure) %&gt;% filter(month&gt;0) ggplot(monthly,aes(month, foodshare, color = year, shape = year)) + geom_line() + geom_point() + geom_vline(xintercept=8)+ ylab(&quot;share of food in monthly expenditure&quot;) + theme_bw() + scale_x_continuous(breaks=1:12) 6.2 Car ownership across provinces library(tidyverse); library(knitr); library(kableExtra) ## Warning: package &#39;kableExtra&#39; was built under R version 4.0.2 setwd(&quot;C:/Users/Mohammad/Dropbox (Personal)/Iran/HEIS&quot;) readRDS(&quot;./exported/HH97.Rds&quot;) %&gt;% mutate(year=&quot;97&quot;) %&gt;% bind_rows(readRDS(&quot;./exported/HH98.Rds&quot;)) %&gt;% mutate(year=replace_na(year,&quot;98&quot;)) %&gt;% group_by(year, province) %&gt;% summarize(car_ownership=weighted.mean(vehicle,weight)*100) %&gt;% pivot_wider(province, names_from=&quot;year&quot;, values_from=&quot;car_ownership&quot;) %&gt;% kable(caption = &quot;Car ownership across provinces&quot;) %&gt;% kable_styling(&quot;striped&quot;, &quot;hover&quot;) %&gt;% scroll_box(height = &quot;500px&quot;) Table 6.1: Car ownership across provinces province 97 98 Markazi 51.64630 49.57154 Gilan 36.47945 35.20249 Mazandaran 45.85421 43.52625 AzarbaijanSharghi 43.10528 43.27720 AzarbaijanGharbi 45.40959 54.73390 Kermanshah 43.05263 42.31064 Kouzestan 38.62614 40.07028 Fars 51.16417 48.51447 Kerman 55.01675 54.21379 KhorasanRazavi 45.79554 44.00599 Esfahan 58.29897 60.19234 SistanBalouchestan 28.23147 28.00504 Kordestan 37.55322 41.69228 Hamedan 43.48110 38.64652 CharmahalBakhtiari 50.50325 46.09934 Lorestan 31.61587 32.93983 Ilam 44.75097 44.21638 KohkilouyeBoyerahamad 29.49408 33.02894 Boushehr 59.71293 54.40757 Zanjan 42.13578 45.73873 Semnan 50.79232 52.66296 Yazd 70.21662 70.79475 Hormozgan 41.10113 39.64233 Tehran 58.57913 60.30397 Ardebil 35.08313 35.89254 Qom 51.77588 52.62781 Qazvin 45.94644 43.72430 Golestan 39.37090 39.30258 KhorasanShomali 41.42278 41.55714 KhorasanJonoubi 47.76810 49.45761 Alborz 54.43409 49.62397 6.3 Trends in expenditure items Results cannot be inferred for a population using a sample survey, before adjustment through a weighting system. Please note that in every result of this study we have applied the weights provided by the Statistical Center of Iran. Here is a piece of code showing how we applied weights in plotting the share of costs: library(tidyverse) for(i in 79:98){ if (i &gt;= 83){ assign(paste0(&quot;R&quot;, i), get(paste0(&quot;R&quot;, i, &quot;_Household&quot;)) %&gt;% mutate(year = paste0(13, i), tcost= rowSums(.[2:14], na.rm = TRUE), across(c(cost_food:cost_investment),~(.x/tcost))) %&gt;% select(c(Address:cost_investment), weight, year)) } else { assign(paste0(&quot;R&quot;, i), get(paste0(&quot;R&quot;, i, &quot;_Household&quot;)) %&gt;% mutate(year = paste0(13, i), tcost= rowSums(.[65:74], na.rm = TRUE), across(c(cost_food:cost_investment),~(.x/tcost))) %&gt;% select(Address,c(cost_food:cost_investment), weight, year)) } } # **** Weighting System 1 **** Rural_w &lt;- Rural%&gt;% select(c(cost_food:cost_transportation_communication))%&gt;% group_by(year)%&gt;% summarise_at(vars(starts_with(&#39;cost&#39;)), funs(weighted.mean(., weight, na.rm=TRUE))) names(Rural_w) rural_w &lt;-Rural_w %&gt;% pivot_longer(-year, names_to = &quot;item&quot;, values_to= &quot;value&quot;) rural_w$year &lt;- as.numeric(rural_w$year) ggplot(data = rural_w, aes(x=year,y=value,color=item, shape= item)) + geom_point() + geom_line() # *** Weighting System 2 **** Rural_w2 &lt;- Rural %&gt;%select(cost_food:cost_transportation_communication) %&gt;% group_by(year)%&gt;% summarise_at(vars(starts_with(&#39;cost&#39;)), funs(weighted.sum(., weight)))%&gt;% ungroup() rural_w2 &lt;- Rural_w2%&gt;% mutate(Total = rowSums(Rural_w2[,2:16], na.rm = TRUE), across(c(cost_food:cost_transportation_communication),~(.x/Total)))%&gt;% select(c(year:cost_transportation_communication)) %&gt;% pivot_longer(-year, names_to = &quot;item&quot;, values_to= &quot;value&quot;) rural_w2[rural_w2==0]&lt;-NA rural_w2$year &lt;- as.numeric(rural_w2$year) ggplot(data = rural_w2, aes(x=year,y=value,color=item, shape= item)) + geom_point() + geom_line() #+ facet_wrap(~item, scales = &quot;free&quot;) Rural Aggregate Share of Costs_Weghting System 1 Annual consumer price index (CPI) is used to adjust prices for inflation. The items in the questionnaire are matched to the ones present in the basket of CPI. We use the price index data of Central Bank of Iran which provides CPI for detailed items over time. Here we need to present more details about CPI data like the number of categories and how we match the codes with them Total Index is used for cases where no appropriate match is found. In cases where an item of the questionnaire matches to more than one item in the CPI basket, a weighted average of the items of CPI is used. library(tidyverse) library(readxl) setwd(&quot;C:/Users/SURFACE/Documents/New&quot;) for(i in 76:98) { load(paste0(i, &quot;New.Rdata&quot;)) mylist[[i-75]]&lt;- paste0(&quot;R&quot;, i, &quot;P3&quot;) } rm(list=ls()[!ls() %in% mylist]) for(i in 76:98){ assign(paste0(&quot;R&quot;, i), get(paste0(&quot;R&quot;, i, &quot;P&quot;, 3)) %&gt;% mutate(year = paste0(&quot;13&quot;, i)) %&gt;% select(Address, year, value, DYCOL00)) } globe_cpi &lt;- read_excel(&quot;C:/HBS/globcpi.xlsx&quot;) globe_cpi$DYCOL00 &lt;- as.numeric(globe_cpi$DYCOL00) # cpi_annual.xlsx has cpicodes in the values in cells are the annual CPI. CPI_annual &lt;- read_excel(&quot;C:/HBS/cpi_annual.xlsx&quot;) cpi_annual &lt;- CPI_annual %&gt;% pivot_longer(-cpicode, names_to = &quot;year&quot;, values_to = &quot;CPI&quot;) cpi_annual$year &lt;- as.numeric(cpi_annual$year) # joining tables together R90_Hcost %&gt;% mutate( bakhsh = as.numeric(cost_food)/as.numeric(year)) Rural_cpi &lt;- left_join(Rural_p3, globe_cpi, by = &quot;DYCOL00&quot;) Rural_CPI &lt;- left_join(Rural_cpi, cpi_annual, by = c(&quot;cpicode&quot;, &quot;year&quot;)) Rural_CPI &lt;- Rural_CPI %&gt;% mutate( real_value = value / CPI) 6.4 Trends of individual level data Income, wage by gender etc. 6.5 Trends of household-level data over time to be completed "]
]
